Windows 操作系统使用 NTFS（New Technology File System）作为默认的文件系统，它支持大容量硬盘和更好的文件安全性。NTFS 提供了对文件的组织和存储。

### 2. 文件访问流程

1. **文件路径解析**：当应用程序请求访问文件时，操作系统会解析文件路径，确定文件的位置和信息。
2. **文件缓存**：Windows 会使用文件缓存，将最常用的文件和数据存储在内存中，以提高文件访问速度。这可以减少对磁盘的实际读写操作次数。
3. **文件 I/O 操作**：当应用程序需要读取或写入文件时，操作系统会执行文件的 I/O 操作，包括读取文件内容到内存或将内存中的数据写入文件。
4. **系统调用**：应用程序通过系统调用（例如 `CreateFile()`、`ReadFile()`、`WriteFile()` 等）与操作系统交互，请求文件操作。
5. **磁盘操作**：当系统收到文件 I/O 操作的请求时，会与磁盘交互，读取或写入文件数据。磁盘会根据文件的逻辑结构（文件分配表、文件索引等）执行相应的读写操作。



NTFS（New Technology File System）是[Windows NT](https://baike.baidu.com/item/Windows NT/759962?fromModule=lemma_inlink)内核的系列[操作系统](https://baike.baidu.com/item/操作系统/192?fromModule=lemma_inlink)支持的、一个特别为网络和磁盘配额、文件加密等管理安全特性设计的[磁盘格式](https://baike.baidu.com/item/磁盘格式/958346?fromModule=lemma_inlink)，提供长文件名、[数据保护](https://baike.baidu.com/item/数据保护/3854847?fromModule=lemma_inlink)和恢复，能通过目录和文件许可实现安全性，并支持跨越分区。

[NTFS文件系统](https://baike.baidu.com/item/NTFS文件系统/2152677?fromModule=lemma_inlink)最早出现于1993年的[Windows NT](https://baike.baidu.com/item/Windows NT/759962?fromModule=lemma_inlink)操作系统中，它的出现大幅度地提高了微软原来的FAT文件系统的性能。 [2] 

NTFS是一个日志文件系统，这意味着除了向磁盘中写入信息，该文件系统还会为所发生的所有改变保留一份日志。这一功能让NTFS文件系统在发生错误的时候（比如系统崩溃或电源供应中断）更容易恢复，也让这一系统更加强壮。在这些情况下，NTFS能够很快恢复正常，而且不会丢失任何数据。在很少出错情况下，微软表示你需要运行CHKDSK修复程序来对磁盘卷进行维护的概率特别低，其概率不到1%。

NTFS文件系统所具备3个功能：错误预警功能、[磁盘](https://baike.baidu.com/item/磁盘/2842227?fromModule=lemma_inlink)自我修复功能和日志功能。 [1] 



错误预警功能：在NTFS分区中，如果MFT所在的磁盘扇区恰好出现损坏，NTFS文件系统会比较智能地将MFT换到硬盘的其他扇区，保证了文件系统的正常使用，也就是保证了系统的正常运行。而FAT16和FAT32的FAT则只能固定在分区引导扇区的后面，一旦遇到扇区损坏，那么整个文件系统就要瘫痪。 [1] 

磁盘自我修复功能：NTFS可以对硬盘上的逻辑错误和物理错误进行自动侦测和修复。在每次读写时，它都会检查扇区正确与否。当读取时发现错误，NTFS会报告这个错误；当向磁盘写文件时发现错误，NTFS会换一个完好位置存储数据。 [1] 

日志功能：在NTFS文件系统中，任何操作都可以被看成是一个“事件”。事件日志一直监督着整个操作，当它在目标地，发现了完整文件，就会标记“已完成”。假如复制中途断电，事件日志中就不会记录“已完成”，NTFS可以在通电后重新完成刚才未完成的事件。